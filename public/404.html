<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Redirecting...</title>
    <script>
      // GitHub Pages SPA redirect handler
      // This script captures the current path and redirects to index.html
      // preserving the intended route for the React Router

      (function() {
        const basePath = '/bunyips-and-bandits-app';
        const fullPath = window.location.pathname;

        // Extract the route relative to the base path
        // e.g., '/bunyips-and-bandits-app/handbook' -> '/handbook'
        const route = fullPath.startsWith(basePath)
          ? fullPath.substring(basePath.length)
          : fullPath;

        // Store the intended route in sessionStorage
        // This will be picked up by the script in index.html
        sessionStorage.setItem('redirectPath', route + window.location.search + window.location.hash);

        // Redirect to the base path
        window.location.replace(basePath + '/');
      })();
    </script>
  </head>
  <body>
    <p>Redirecting...</p>
  </body>
</html>
