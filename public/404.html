<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Redirecting...</title>
    <script>
      // GitHub Pages SPA redirect handler
      // This script captures the current path and redirects to index.html
      // preserving the intended route for the React Router

      (function() {
        const pathSegmentsToKeep = 1; // Keep '/bunyips-and-bandits-app'

        const path = window.location.pathname.split('/').slice(0, pathSegmentsToKeep + 1).join('/');
        const route = window.location.pathname.slice(path.length);

        // Store the intended route in sessionStorage
        // This will be picked up by the script in index.html
        sessionStorage.setItem('redirectPath', route + window.location.search + window.location.hash);

        // Redirect to the base path
        window.location.replace(path);
      })();
    </script>
  </head>
  <body>
    <p>Redirecting...</p>
  </body>
</html>
